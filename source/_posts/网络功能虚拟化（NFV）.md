---
title: 网络功能虚拟化（NFV）
toc: true
date: 2022-06-12 23:29:07
tags: 网络 运维
categories: 杂项
---

​​点击阅读更多查看文章内容<!--more-->

# NFV基本概述
转载文章：[NFV基本概述](https://blog.csdn.net/qq_38265137/article/details/80503533)
# NFV介绍
## 定义
NFV，即网络功能虚拟化，Network Function Virtualization。通过使用x86等通用性硬件以及虚拟化技术，来承载很多功能的软件处理。从而降低网络昂贵的设备成本。可以通过软硬件解耦及功能抽象，使网络设备功能不再依赖于专用硬件，资源可以充分灵活共享，实现新业务的快速开发和部署，并基于实际业务需求进行自动部署、弹性伸缩、故障隔离和自愈等。

NFV的总体目标被定义为利用标准的IT虚拟化技术将众多网络设备类型合并成工业标准级的大容量服务器、交换机和存储设备，并在数据中心、网络结点和终端用户处所部署。

网络功能虚拟化（network functions virtualization，NFV）被定义为运行再虚拟机上且利用软件实现网络功能的虚拟化技术。



## 目标
NFV的目标是取代通信网络中私有、专用和封闭的网元，实现统一通用硬件平台+业务逻辑软件的开放架构。

NFV与SDN结合使用将对未来通信网络的发展带来重大的影响，同时也带来新的问题和挑战。
## 发展缘由
- 网络运营商的网络通常是由大规模并且迅速增长的多种多样的硬件设备组成。开发一个新的网络业务经常需要新类型的设备，而为这些盒子需找空间、提供电源变得越来越困难；同时还伴随着能源成本的增加、投资额的挑战，基于硬件设备的复杂度提升，也增加了对设计、集成、运营所需要的各种稀有技能的要求。
- 更严重的问题是，基于硬件的设备很快就到了生命周期，这需要更多的“设计-集成-部署”循环，但收益甚少。糟糕的是，硬件生命周期变得越来越短而业务创新则在不断加速，所以这抑制了新增值业务的部署，并且限制了不断增长的网络为中心领域的创新。
- 网络虚拟化通过借用IT的虚拟化技术，许多类型的网络设备类型可以合并入工业界标准中，如servers、switches和storage，可以部署在数据中心、网络节点或是用户家里。网络虚拟化适用于固定、移动网络中任何数据面的分组处理和控制面功能。

## 来自企业、运营商、家庭用户的需求
![在这里插入图片描述](https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/16e7195ecb3f420fc4784f5cf538270b_1740930533785.png%20=600x)
- 随着云服务的不断发展和需求的不断增加，运营商只需要为企业私有云和公有云提供管道传输，因此运营商有被管道化的风险。
- 家庭用户在体验上不支持多屏应用、室外应用，业务开通周期长，费用昂贵。
- 企业用户需要高IT投入购买大量通信设备（路由器、交换机、服务器、存储设备）。
- 系统扩容需要更新设备，重复投资。
- CPE（customer premises equipment）多为企业网的网关，对接运营商的PE设备。

# NFV基本概念
## 什么是NFV
NFV即网络功能虚拟化（Network Functions Virtualization），将许多类型的网络设备（如servers，switches和storage等）构建为一个Data Center Network，通过借用IT的虚拟化技术虚拟化形成VM（虚拟机，Virtual Machine），然后将传统的CT(Communication Technology)业务部署到VM上。

在NFV出现之前设备的专业化很突出，具体设备都有其专门的功能实现，而之后设备的控制平面与具体设备进行分离，不同设备的控制平面基于虚拟机，虚拟机基于云操作系统，这样当企业需要部署新业务时只需要在开放的虚拟机平台上创建相应的虚机，然后在虚拟机上安装相应功能的软件包即可。这种方式我们就叫做网络功能虚拟化。

## 网络功能虚拟化的优点和面临的挑战
网络功能虚拟化的优点：

1. 通过设备合并、借用IT的规模化经济，减少设备成本、能源开销。
2. 缩短网络运营的而业务创新周期，提升投放市场的速度，是运营商极大的减少网络成熟周期。
3. 网络设备可以多版本、多租户共存，且单一平台为不同的应用、用户、租户提供服务，允许运营商跨服务和跨不同客户群共享资源。
4. 基于地理位置、用户群引入精准服务，同时可以根据需要对服务进行快速扩张/收缩。
5. 更广泛、多样的生态系统使能，促进开放，将开放虚拟装置给纯软件开发者、小商户、学术界，鼓励更多的创新，引入新业务，更低的风险带来新的收入增长。

NFV同样面临着很多技术挑战

1. 虚拟网络装置运行在不同的硬件厂商、不同的Hypervisor上，如何获取更高的性能。
2. 基于网络平台的硬件同时允许迁移到虚拟化的网络平台中，两者并能共存，重用运营商当前的OSS/BSS。
3. 管理和组织诸多虚拟网络装置（尤其是管理系统），同时避免安全攻击和错误配置。
4. 保证一定级别的硬件、软件可靠性。
5. 不同运营商的虚拟装置（VA）集成。网络运营商需要能“混合和匹配”不同厂家的硬件、不同厂家的Hypervisors、不同厂家的虚拟装置（VA），而没有巨大的集成成本、避免与厂家绑定。

# NFV架构
## NFV本质：重新定义网络设备架构

![在这里插入图片描述](https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/7e9d0aad4927371d11f590be05520281_1740930533785.png)
Huawei CloudEdge方案包括四个层面以及对应的亮点如下：

- 软件应用层：华为提供丰富完善的电信业务应用，并且向第三方开放，加快业务创新和部署。
- 虚拟层面Cloud OS：实现设备资源的高效利用和业务的快速部署。
- 自动维护管理层MANO (Management And Network Orchestration)：自动的网络伸缩，简化管理。
- 硬件设备层：高可靠、高性能、多规格的COTS Server，充分满足电信级部署的需求，并支持多厂家的COTS Server部署。

在NFV架构中，底层为具体物理设备，如服务器，存储设备，网络设备。

计算虚拟化即虚拟机，在一台服务器上创建多个虚拟系统。

存储虚拟化，即多个存储设备虚拟化为一台逻辑上的存储设备。

网络虚拟化，即网络设备的控制平面与底层硬件分离，将设备的控制平面安装在服务器虚拟机上。

在虚拟化的设备层面上可以安装各种服务软件

## NFV开放接口
![在这里插入图片描述](https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/8a1ae9a1eed910bc9f4b79586391569b_1740930533785.png)

- NFVI：提供VNF的运行环境，包括所需的硬件及软件。硬件包括计算、网络、存储资源；软件主要包括Hypervisor、网络控制器、存储管理器等工具，NFVI将物理资源虚拟化为虚拟资源，供VNF使用。

- VNF：包括VNF和EMS，VNF网络功能，EMS为单元管理系统，对VNF的功能进行配置和管理。一般情况下，EMS和VNF是一一对应的。

- VIM：NFVI管理模块，通常运行于对应的基础设施站点中，主要功能包括：资源的发现、虚拟资源的管理分配、故障处理等，为VNF运行提供资源支持。

- VNFM：VNF管理模块，主要对VNF的生命周期（实例化、配置、关闭等）进行控制，一般情况下与VNF一一对应。

- NFVO：NS生命周期的管理模块，同时负责协调NS、组成NS的VNFs以及承载各VNF的虚拟资源的控制和管理。

- OSS/BSS：服务提供商的管理功能，不属于NFV框架内的功能组件，但NFVO需要提供对OSS/BSS的接口。

# SDN与NFV的关系

![在这里插入图片描述](https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/e3a4639d8d5cbea58d6a2935d8624799_1740930533785.png)

1. NFV不依赖与SDN，但是SDN中控制和数据转发的分离可以改善NFV网络性能。
2. SDN也可以通过使用通用硬件作为SDN的控制器和服务交换机以虚拟化形式实现。
3. 结论：以移动网络，NFV是网络演进的主要架构。在一些特定场景，将引入SDN。


SDN与NFV对比：

|类型 | SDN |NFV|
|--|--|--|
| 主要主张 |转发与控制分离，控制面集中，网络可编程化	|将网络功能从原来专用的设备移到通用设备上。 |
|  |校园网，数据中心、云|运营商网络 |
|  |商用服务器和交换机	|专用服务器和交换机|
|  |云资源调度和网络|路由器、防火墙、网关、CND、广域网加速器、SLA保证等 |
| 通用协议 |OpenFlow|尚没有 |
|  |ONF（Open Networking Forun）组织	|将ETSI NFV工作组 |

- NFV是具体设备的虚拟化，将设备控制平面运行在服务器上，这样设备是开放的兼容的。
- SDN是一种全新的网络架构，SDN的思想是取消设备控制平面，由控制器统一计算，下发流表，SDN是全新的网络架构。
- NFV和SDN是高度互补关系，但并不互相依赖。网络功能可以在没有SDN的情况下进行虚拟化和部署，然而这两个理念和方案结合可以产生潜在的、更大的价值。
- 网络功能虚拟化（NFV）的目标是可以不用SDN机制，仅通过当前的数据中心技术去实现。但从方法上有赖于SDN提议的控制和数据转发平面的分离，可以增强性能、简化与已存在设备的兼容性、基础操作和维护流程。
- NFV可以通过提供给SDN软件运行的基础设施的方式来支持SDN。而且，NFV和SDN在都利用用基础的服务器、交换机去达成目标，这一点上是很接近的。
