---
title: DNS服务器
date: 2024-04-08 21:06:37
toc: true
categories: 杂项
tags: DNS
---

## DNS服务器

### 本地域名服务器

本地域名服务器也叫做递归域名服务器、递归解析服务器等，当一个主机发出DNS查询请求时，会首先请求本地域名服务器，再由本地域名服务器进行递归查询<!-- more -->

<!-- more -->

### 根域名服务器

根域名服务器是DNS中最高级别的域名服务器，所有的根域名服务器都知道所有的顶级域名服务器的IP地址。由于DNS和某些协议的共同限制，根域名服务器地址的数量被限制为13个。幸运的是，采用任播技术架设镜像服务器可解决该问题，并使得实际运行的根域名服务器数量大大增加。截至2023年6月，全球共有1719台根域名服务器在运行
根域名服务器用来管辖顶级域(如.com)， 通常它并不直接把待查询的域名直接转换成IP地址，而是告诉本地域名服务器下一步应当找哪个顶级域名服务器进行查询
**根域文件**：
所有根域名服务器都是以同一份根域文件（Root Zone file，文件名为root.zone）返回顶级域名权威服务器（包括通用顶级域和国家顶级域），文件只有2MB大小。截至2017年10月9日，一共记录了1542个顶级域。对于没被收录的顶级域，是没法通过根域名服务器查出相应的权威服务器。而其他递归DNS服务器则只需要配置Root Hits文件，只包含根域名服务器的地址。
**本地域名服务器如何找到根域名服务器？**
由于根域名服务器位于 DNS 层次结构的顶部，因此本地域名服务器无法在DNS查找中被引导到这些位置。因此，每个本地域名服务器都在其软件中内置了13个IP根服务器地址的列表。每次发起DNS查找时，本地域名服务器的第一个通信就是与这13个IP地址之一进行的。

### 顶级域名服务器

顶级域名（TLD）是互联网中最高一级的域名，用于标识互联网中的不同组织、地理位置、网络类型等。顶级域名分为通用顶级域名（gTLDs）和国家和地区顶级域名（ccTLDs）。通用顶级域名如.com（商业）、.org（非赢利组织）、.net（网络服务）等，而国家和地区顶级域名则代表特定的国家或地区，如.cn（中国）、.us（美国）等。

顶级域名服务器负责管理在该顶级域名服务器注册的所有二级域名。
收到DNS查询请求时,就给出相应的回答(可能是最后的结果（缓存），也可能是下一步应当查找的域名服务器的IP地址)。
顶级域名服务器通常保存的是其下二级域名的NS记录，用于确定解析该二级域名的权威服务器，这些权威服务器保存具体的A记录

### 权威域名服务器

权威域名服务器负责具体的域名解析，通常是查找IP地址过程中的最后一步，权威域名服务器负责特定的域名解析（例如，google.com），它可为本地域名服务器提供在DNS A记录中找到的服务器的IP地址
