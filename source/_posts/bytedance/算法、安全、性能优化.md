---
title: 算法、安全、性能优化
toc: true
date: 2025-02-13 00:00:00
tags: 性能优化
categories: bytedance
---

​点击阅读更多查看文章内容<!--more-->

## 排序

### 插入排序、快速排序、堆排序

理论时间复杂度

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124453155.png" alt="image-20250124175200799" style="zoom:67%;" />

实际场景的性能测试

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124457661.png" alt="image-20250124175049260" style="zoom:67%;" />

完全随机

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124504252.png" alt="image-20250124175105963" style="zoom:67%;" />

元素有序

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124511040.png" alt="image-20250124175117939" style="zoom:67%;" />

结论

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124516748.png" alt="image-20250124175131560" style="zoom:67%;" />

### pdqsort

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124523315.png" alt="image-20250124175555593" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124535459.png" alt="image-20250124175833504" style="zoom:67%;" />

**Version1**

首先使用快排，快排分成两部分之后如果子数组长度小于24则针对该子数组不再使用快排转而使用插入排序，如果limit为0则使用堆排序。limit是根据数组初始长度计算的值，当快排表现不佳时会将limit减1，当limit最终为0时就不再使用快排。

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548342.png" alt="image-20250124180006061" style="zoom:67%;" />

**Version2**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548343.png" alt="image-20250124180901763" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548345.png" alt="image-20250124181239731" style="zoom:67%;" />

采样多个元素选择中位数

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548346.png" alt="image-20250124181259414" style="zoom:67%;" />

partialInsertionSort，在插入一定次数后仍未有序，就放弃使用插入排序

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548347.png" alt="image-20250124181522604" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548348.png" alt="image-20250124181904119" style="zoom: 67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548349.png" alt="image-20250124181926499" style="zoom:67%;" />

**最终版本**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548350.png" alt="image-20250124182110270" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548351.png" alt="image-20250124182312261" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548352.png" alt="image-20250124182341976" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548353.png" alt="image-20250124182419264" style="zoom:67%;" />

## 安全

### 网站常见安全漏洞

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548354.png" alt="image-20250124224400759" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548355.png" alt="image-20250124224409771" style="zoom:67%;" />

### 服务端漏洞

**第三方组件漏洞**

log4j、fastjson

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548356.png" alt="image-20250124224941166" style="zoom:67%;" />

---

**SQL注入**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548357.png" alt="image-20250124225804625" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548358.png" alt="image-20250124225817898" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548359.png" alt="image-20250124225827069" style="zoom:67%;" />

不要把用户传入的数据当作代码

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548360.png" alt="image-20250124225842288" style="zoom:67%;" />

---

**命令执行**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548361.png" alt="image-20250124230019708" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548362.png" alt="image-20250124230038232" style="zoom:67%;" />

---

**越权漏洞**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548363.png" alt="image-20250124230449943" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548364.png" alt="image-20250124230505667" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548365.png" alt="image-20250124230514343" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548366.png" alt="image-20250124230524546" style="zoom:67%;" />

---

**SSRF**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548367.png" alt="image-20250124230932361" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548368.png" alt="image-20250124230948450" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548369.png" alt="image-20250124230958032" style="zoom:67%;" />

本身发起请求的就是内网的机器，所以可以访问到本机的admin页面

---

**文件上传漏洞**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548370.png" alt="image-20250124231207050" style="zoom:67%;" />

上传一个php脚本，php是解释型语言，可以直接执行

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548371.png" alt="image-20250124231223606" style="zoom:67%;" />

基于企业的CDN存储自己的文件生成url，可以快速访问

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548372.png" alt="image-20250124231319454" style="zoom:67%;" />

站库分离：如果上传php文件不会存储到网站，而是存储到其它的服务器上，不具备执行php的能力，就不会有问题。

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548373.png" alt="image-20250124231400870" style="zoom:67%;" />

### 客户端漏洞

**开放重定向**

对重定向地址做一个白名单

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548375.png" alt="image-20250125100604154" style="zoom:67%;" />

**XSS**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548376.png" alt="image-20250125100629814" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548377.png" alt="image-20250125100809319" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548378.png" alt="image-20250125101003373" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548379.png" alt="image-20250125101016139" style="zoom:67%;" />

**CSRF**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548380.png" alt="image-20250125101225536" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548381.png" alt="image-20250125101406114" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548382.png" alt="image-20250125101535877" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548383.png" alt="image-20250125101548750" style="zoom:67%;" />

**点击劫持**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548384.png" alt="image-20250125101707158" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548385.png" alt="image-20250125101745903" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548386.png" alt="image-20250125101824382" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548387.png" alt="image-20250125101851614" style="zoom:67%;" />

**CORS跨域配置错误**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548388.png" alt="image-20250125101937265" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548389.png" alt="image-20250125102017815" style="zoom:67%;" />

**WebSocket**

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548390.png" alt="image-20250125102104395" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548391.png" alt="image-20250125102209890" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548392.png" alt="image-20250125102224178" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/shnpd/blog-pic@main/csdn/20250303124548393.png" alt="image-20250125102257982" style="zoom:67%;" />